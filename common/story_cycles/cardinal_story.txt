# This exists as a substitute for a cardinal title. Ownership of this story represents a Cardinal seat.

cardinal_story = {
	on_setup = {
		add_to_global_variable_list = {
			name = cardinals
			target = this
		}
		title:k_papal_state = {
			add_to_variable_list = {
				name = cardinals
				target = prev
			}
		}
		global_var:gui_storage = {
			add_to_variable_list = {
				name = cardinals
				target = prev
			}
		}
	}
	on_owner_death = {
		save_scope_as = cardinal_story
		story_owner = {
			save_scope_as = dead_cardinal
			trigger_event = {
				on_action = on_cardinal_death
			}
		}
		promote_new_cardinal = yes
		update_preferatus = yes
	}
}

story_saint_day = {
	# by Uber
	
	on_setup = {
		global_var:TCT_saint_day_dummychar = {
			var:TCT_saint_day_saint = {
				save_scope_as = localsaint
			}
		}
		faith = {
			add_to_variable_list = {
				name = faith_saints_days
				target = scope:localsaint
			}
			add_to_variable_list = {
				name = faith_saints_days_stories
				target = scope:story
			}
		}
	}

	on_end = {
		debug_log = "[localsaint.GetName] Saint Day Forgotten!:"
		debug_log_date = yes
	}

	effect_group = {
		years = 1
		
		triggered_effect = {
			trigger = {
				always = yes
			}
			effect = {
				faith:catholic = {
					every_faith_ruler = {
						trigger_event = { on_action = TCT_saint_day_real }
					}
				}
			}
		}
	}
}