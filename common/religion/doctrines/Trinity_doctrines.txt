doctrine_head_of_faith = {
	group = "main_group"

	doctrine_no_head = {
		visible = no
		piety_cost = {
			value = faith_doctrine_cost_mid
			if = {
				limit = { has_doctrine = doctrine_no_head }
				multiply = faith_unchanged_doctrine_cost_mult
			}
		}
		parameters = {
			no_head_of_faith = yes
			minimum_fervor = 25
		}
	}
	doctrine_spiritual_head = {
		visible = no
		piety_cost = {
			value = faith_doctrine_cost_high
			if = {
				limit = { has_doctrine = doctrine_spiritual_head }
				multiply = faith_unchanged_doctrine_cost_mult
			}
		}
		parameters = {
			spiritual_head_of_faith = yes
			spiritual_head_of_faith_claims = yes
			spiritual_head_of_faith_gold = yes
		}
	}
	doctrine_temporal_head = {
		visible = no
		piety_cost = {
			value = faith_doctrine_cost_massive
			if = {
				limit = { has_doctrine = doctrine_temporal_head }
				multiply = faith_unchanged_doctrine_cost_mult
			}
		}
		can_pick = {
			custom_description = {
				text = incompatible_doctrine_theocracy_temporal_trigger
				NOT = { flag:doctrine_theocracy_temporal = { is_in_list = selected_doctrines } }
			}
			custom_description = {
				text = incompatible_doctrine_spiritual_appointment_temporal_trigger
				NOR = {
					flag:doctrine_clerical_succession_spiritual_appointment = { is_in_list = selected_doctrines }
					flag:doctrine_clerical_succession_spiritual_fixed_appointment = { is_in_list = selected_doctrines }
				}
			}
		}

		parameters = {
			temporal_head_of_faith = yes
			temporal_head_of_faith_directed_holy_wars = yes
		}
	}

	doctrine_independent_papacy_head = {
		visible = no
		is_shown = { religion_tag = christianity_religion }
		can_pick = { 
			religion_tag = christianity_religion 
		}
		piety_cost = {
			value = faith_doctrine_cost_massive
			if = {
				limit = { has_doctrine = doctrine_independent_papacy_head }
				multiply = faith_unchanged_doctrine_cost_mult
			}
		}
		parameters = {
			spiritual_head_of_faith = yes
			spiritual_head_of_faith_claims = yes
			spiritual_head_of_faith_gold = yes
			rot_antipopes = yes
		}
	}
	
}

doctrine_clerical_succession = {
	group = "clergy"
	doctrine_clerical_succession_temporal_appointment = { # Temporal, Free
		piety_cost = {
			value = faith_doctrine_cost_high
			if = {
				limit = { has_doctrine = doctrine_clerical_succession_temporal_appointment }
				multiply = faith_unchanged_doctrine_cost_mult
			}
			else = {
				if = {
					limit = {
						OR = { # Was Spiritual
							has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment
							has_doctrine = doctrine_clerical_succession_spiritual_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
				if = {
					limit = {
						OR = {	# Was Fixed
							has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment
							has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
			}
			# Round up to the nearest multiple of 25
			divide = 25
			ceiling = yes
			multiply = 25
		}

		parameters = {
			clerical_appointment_ruler = yes
			clerical_appointment_fixed = no
		}
	}
	doctrine_clerical_succession_spiritual_appointment = { # Spiritual, Free
		piety_cost = {
			value = faith_doctrine_cost_high
			if = {
				limit = { has_doctrine = doctrine_clerical_succession_spiritual_appointment }
				multiply = faith_unchanged_doctrine_cost_mult
			}
			else = {
				if = {
					limit = {
						OR = { # Was Temporal
							has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment
							has_doctrine = doctrine_clerical_succession_temporal_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
				if = {
					limit = {
						OR = {	# Was Fixed
							has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment
							has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}	
			}
			# Round up to the nearest multiple of 25
			divide = 25
			ceiling = yes
			multiply = 25
		}

		can_pick = {
			custom_description = {
				text = incompatible_doctrine_spiritual_appointment_temporal_trigger
				NOT = { flag:doctrine_temporal_head = { is_in_list = selected_doctrines } }
			}
		}		

		parameters = {
			clerical_appointment_head_of_faith = yes
			clerical_appointment_fixed = no
		}
	}
	doctrine_clerical_succession_temporal_fixed_appointment = { # Temporal, Fixed
		piety_cost = {
			value = faith_doctrine_cost_high
			if = {
				limit = { has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment }
				multiply = faith_unchanged_doctrine_cost_mult
			}
			else = {
				if = {
					limit = {
						OR = { # Was Spiritual
							has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment
							has_doctrine = doctrine_clerical_succession_spiritual_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
				if = {
					limit = {
						OR = {	# Was free
							has_doctrine = doctrine_clerical_succession_spiritual_appointment
							has_doctrine = doctrine_clerical_succession_temporal_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
			}
			# Round up to the nearest multiple of 25
			divide = 25
			ceiling = yes
			multiply = 25
		}
		parameters = {
			clerical_appointment_ruler = yes
			clerical_appointment_fixed = yes
		}
	}
	doctrine_clerical_succession_spiritual_fixed_appointment = { # Spiritual, Fixed
		piety_cost = {
			value = faith_doctrine_cost_high
			if = {
				limit = { has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment }
				multiply = faith_unchanged_doctrine_cost_mult
			}
			else = {
				if = {
					limit = {
						OR = { # Was Temporal
							has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment
							has_doctrine = doctrine_clerical_succession_temporal_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
				if = {
					limit = {
						OR = {	# Was Free
							has_doctrine = doctrine_clerical_succession_spiritual_appointment
							has_doctrine = doctrine_clerical_succession_temporal_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
			}
			# Round up to the nearest multiple of 25
			divide = 25
			ceiling = yes
			multiply = 25
		}

		can_pick = {
			custom_description = {
				text = incompatible_doctrine_spiritual_appointment_temporal_trigger
				NOT = { flag:doctrine_temporal_head = { is_in_list = selected_doctrines } }
			}
		}

		parameters = {
			clerical_appointment_head_of_faith = yes
			clerical_appointment_fixed = yes
		}
	}
	doctrine_clerical_succession_investiture_law_appointment = { # Spiritual, Fixed
		piety_cost = {
			value = faith_doctrine_cost_high
			if = {
				limit = { has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment }
				multiply = faith_unchanged_doctrine_cost_mult
			}
			else = {
				if = {
					limit = {
						OR = { # Was Temporal
							has_doctrine = doctrine_clerical_succession_temporal_fixed_appointment
							has_doctrine = doctrine_clerical_succession_temporal_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
				if = {
					limit = {
						OR = {	# Was Free
							has_doctrine = doctrine_clerical_succession_spiritual_appointment
							has_doctrine = doctrine_clerical_succession_temporal_appointment
						}
					}
					multiply = faith_changed_doctrine_cost_mult_two_step
				}
			}
			# Round up to the nearest multiple of 25
			divide = 25
			ceiling = yes
			multiply = 25
		}
		is_shown = { religion_tag = christianity_religion }
		can_pick = {
			custom_description = {
				text = incompatible_doctrine_spiritual_appointment_temporal_trigger
				NOT = { flag:doctrine_temporal_head = { is_in_list = selected_doctrines } }
			}
		}

		parameters = {
			clerical_appointment_fixed = yes
			rot_clerical_appointment_investiture = yes
		}
	}
}